#
# CarbonXchange Backend Environment Variables
# Based on configuration in code/backend/src/config.py
#

# -----------------------------------------------------------------------------
# 1. APPLICATION & SECURITY
# -----------------------------------------------------------------------------
# A secret key for signing session cookies and other security-related needs.
# Generate a strong, random string (e.g., 32 characters or more).
SECRET_KEY=
# A separate secret key for signing JWT access and refresh tokens.
# Generate a strong, random string (e.g., 32 characters or more).
JWT_SECRET_KEY=
# Set the environment mode (e.g., development, production, testing)
# This is typically set by the deployment environment, but can be overridden.
FLASK_ENV=development
# The base URL for the frontend application to allow CORS requests.
# Use '*' for development, or a specific URL (e.g., https://app.carbonxchange.com) for production.
CORS_ORIGINS=*

# -----------------------------------------------------------------------------
# 2. DATABASE
# -----------------------------------------------------------------------------
# The connection string for the primary application database.
# Example for PostgreSQL: postgresql://user:password@host:port/dbname
# Example for SQLite (Development): sqlite:///./database/dev.db
SQLALCHEMY_DATABASE_URI=

# -----------------------------------------------------------------------------
# 3. EXTERNAL SERVICES (Redis, Celery, Caching)
# -----------------------------------------------------------------------------
# Redis URL for general use (e.g., user sessions, temporary data)
REDIS_URL=redis://localhost:6379/0
# Redis URL for API rate limiting
# RATELIMIT_STORAGE_URL defaults to REDIS_URL if not set, but is explicitly used in config.
RATELIMIT_STORAGE_URL=redis://localhost:6379/1
# Redis URL for Celery broker (task queue)
CELERY_BROKER_URL=redis://localhost:6379/2
# Redis URL for Celery result backend (task results)
CELERY_RESULT_BACKEND=redis://localhost:6379/3
# Redis URL for application caching
CACHE_REDIS_URL=redis://localhost:6379/4

# -----------------------------------------------------------------------------
# 4. BLOCKCHAIN INTEGRATION
# -----------------------------------------------------------------------------
# Set to 'false' to disable all blockchain features (e.g., in development).
FEATURE_BLOCKCHAIN_INTEGRATION=true
# The URL for the Web3 provider (e.g., Infura, Alchemy, or a local node).
# Default is Polygon mainnet Infura endpoint.
WEB3_PROVIDER_URL=https://polygon-mainnet.infura.io/v3/YOUR_INFURA_PROJECT_ID
# The private key for the wallet used by the backend to sign transactions.
# CRITICAL: Must be kept secure.
WEB3_PRIVATE_KEY=
# The chain ID for the target network (e.g., 137 for Polygon Mainnet).
WEB3_CHAIN_ID=137
# Smart Contract Addresses (CRITICAL: Must be set for blockchain features)
CARBON_TOKEN_CONTRACT_ADDRESS=
MARKETPLACE_CONTRACT_ADDRESS=
REGISTRY_CONTRACT_ADDRESS=
ESCROW_CONTRACT_ADDRESS=

# -----------------------------------------------------------------------------
# 5. EMAIL & SMS NOTIFICATIONS
# -----------------------------------------------------------------------------
# Standard SMTP Configuration
MAIL_SERVER=localhost
MAIL_PORT=587
MAIL_USE_TLS=true
MAIL_USE_SSL=false
MAIL_USERNAME=
MAIL_PASSWORD=
MAIL_DEFAULT_SENDER=noreply@carbonxchange.com

# Third-Party Communication Services
# SendGrid API Key for transactional emails
SENDGRID_API_KEY=
# Twilio Credentials for SMS notifications
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_PHONE_NUMBER=

# -----------------------------------------------------------------------------
# 6. MONITORING & LOGGING
# -----------------------------------------------------------------------------
# Sentry DSN for error tracking and performance monitoring.
SENTRY_DSN=
# Logging level (e.g., DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# -----------------------------------------------------------------------------
# 7. FEATURE FLAGS & COMPLIANCE
# -----------------------------------------------------------------------------
# Enable/Disable Advanced Analytics features
FEATURE_ADVANCED_ANALYTICS=true
# Enable/Disable Automated Compliance features
FEATURE_AUTOMATED_COMPLIANCE=true
# Enable/Disable Real-Time Notifications
FEATURE_REAL_TIME_NOTIFICATIONS=true
# AML Risk Threshold (e.g., 0.7)
AML_RISK_THRESHOLD=0.7
# Data Retention Period in days (e.g., 2555 for 7 years)
DATA_RETENTION_DAYS=2555
# Market Data Update Interval in seconds
MARKET_DATA_UPDATE_INTERVAL=60
